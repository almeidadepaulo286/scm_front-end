<div class="d-flex justify-content-between align-items-center mb-3">
	<h1 class="page-heading">{{title}}</h1>

	<div class="text-right">
		<botao-voltar></botao-voltar>
		<a class="btn btn-sm btn-primary btn-acao ml-2" routerLink="/usuarios/editar/{{usuario.id}}">
			<fa-icon [icon]="faPen"></fa-icon>
			Alterar
		</a>
		<a class="btn btn-sm btn-success btn-acao ml-2" (click)="resetarSenha()">
			<fa-icon [icon]="faUnlock"></fa-icon>
			Resetar Senha
		</a>
		<a class="btn btn-sm btn-danger btn-acao ml-2" *ngIf="usuario.situacao == 1" (click)="showModalDesativar(templateDesativar)">
			<fa-icon [icon]="faMinusCircle"></fa-icon>
			Desativar
		</a>
	</div>
</div>

<div *ngIf="usuario" class="registro row">
	<div class="col-12 col-md-6 mb-3 panel-detalhe">
		<div class="card">
			<div class="card-body">
				<h6>Usuário</h6>
				<div class="">
					<div class="mb-2 mr-lg-5"><small class="text-secondary">Nome:</small><br>{{usuario.nome}}</div>
					<div class="mb-2 mr-lg-5"><small class="text-secondary">Login:</small><br>{{usuario.login}}</div>
					<div class="mb-2 mr-lg-5"><small class="text-secondary">E-mail:</small><br>{{usuario.email}}</div>
					<div class="mb-2 mr-lg-5"><small class="text-secondary">Situação do Usuário:</small><br>{{usuario.situacao == 1 ? 'Ativo' : 'Inativo'}}</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-12 col-md-6 mb-3 panel-detalhe">
		<div class="card">
			<div class="card-body">
				<h6>Perfil</h6>
				<div class="mb-2 mr-lg-5"><br>
					<ng-container *ngFor="let perfil of usuario.listaPerfil">
						<span>{{perfil.codigo}}</span> &nbsp; 
					</ng-container>
				</div>
			</div>
		</div>
	</div>
</div>

<ng-template #templateDesativar>
    <div class="modal-header">
        <small class="text-secondary">Deseja realmente desativar este usuário?</small>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-right">
		<button class="btn btn-sm btn-light text-secondary mr-1 px-3" (click)="modalRef.hide()">Não</button>
		&nbsp;
        <button class="btn btn-sm btn-warning px-3" (click)="desativarUsuario()">Sim</button>
    </div>
</ng-template>